<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–∫–æ—Ä–æ –æ—Ç–∫—Ä—ã—Ç–∏–µ! | Fruit Paradise</title>
  <link rel="stylesheet" href="./src/css/banner.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
    (function() {
      emailjs.init("7s0tj5XkYrRFXiVG2"); // –í–∞—à PUBLIC_KEY
    })();
  </script>
</head>
<body>
<header class="glass">
  <nav class="nav">
    <div class="logo">
      <span class="logo-icon">üçç</span>
      Fruit Paradise
    </div>
    <ul class="nav-menu">
      <li><a class="nav-menu-cl" href="#home">–ì–ª–∞–≤–Ω–∞—è</a></li>
      <li><a class="nav-menu-cl" href="#fruits">–ö–∞—Ç–∞–ª–æ–≥</a></li>
      <li><a class="nav-menu-cl" href="#about">–û –Ω–∞—Å</a></li>
      <li><a class="nav-menu-cl" href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
    </ul>
  </nav>
</header>

<div class="container">
  <div class="promo-banner glass">
    <div class="badge">–°–ö–û–†–û –û–¢–ö–†–´–¢–ò–ï</div>
    <h1 class="title">Fruit Paradise <span class="highlight">–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è</span> —Å–∫–æ—Ä–æ!</h1>
    <p class="description">–ü–µ—Ä–≤—ã–º 100 –∫–ª–∏–µ–Ω—Ç–∞–º - —Å–∫–∏–¥–∫–∞ 30% –Ω–∞ –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É! –û—Å—Ç–∞–≤—å—Ç–µ email –∏ –º—ã —Å–æ–æ–±—â–∏–º –≤–∞–º –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏.</p>

    <div class="features">
      <div class="feature">
        <div class="feature-icon">üöö</div>
        <span>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</span>
      </div>
      <div class="feature">
        <div class="feature-icon">‚≠ê</div>
        <span>–ì–∞—Ä–∞–Ω—Ç–∏—è —Å–≤–µ–∂–µ—Å—Ç–∏</span>
      </div>
      <div class="feature">
        <div class="feature-icon">üéÅ</div>
        <span>–ü–æ–¥–∞—Ä–æ–∫ –∫ –∑–∞–∫–∞–∑—É</span>
      </div>
    </div>

    <form id="notification-form" class="notification-form">
      <input type="email" class="email-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email" required id="email">
      <button type="submit" class="cta-button" id="submit-btn">–£–≤–µ–¥–æ–º–∏—Ç—å –º–µ–Ω—è –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏</button>
    </form>
    <div id="form-message" style="display: none; margin-top: 15px; padding: 10px; border-radius: 8px; text-align: center;"></div>

    <div class="countdown">
      <div class="countdown-item">
        <span id="days" class="countdown-number">00</span>
        <span class="countdown-label">–¥–Ω–µ–π</span>
      </div>
      <div class="countdown-item">
        <span id="hours" class="countdown-number">00</span>
        <span class="countdown-label">—á–∞—Å–æ–≤</span>
      </div>
      <div class="countdown-item">
        <span id="minutes" class="countdown-number">00</span>
        <span class="countdown-label">–º–∏–Ω—É—Ç</span>
      </div>
      <div class="countdown-item">
        <span id="seconds" class="countdown-number">00</span>
        <span class="countdown-label">—Å–µ–∫—É–Ω–¥</span>
      </div>
    </div>
  </div>
</div>

<script>
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏
  document.getElementById('notification-form').addEventListener('submit', function(e) {
    e.preventDefault();

    const email = document.getElementById('email').value;
    const button = document.getElementById('submit-btn');
    const messageDiv = document.getElementById('form-message');
    const originalText = button.textContent;

    // –í–∞–ª–∏–¥–∞—Ü–∏—è email
    if (!validateEmail(email)) {
      showMessage('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å', 'error', messageDiv);
      return;
    }

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
    button.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
    button.disabled = true;
    messageDiv.style.display = 'none';

    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è EmailJS
    const templateParams = {
      to_email: 'baturindaniil31@gmail.com', // –ó–ê–ú–ï–ù–ò–¢–ï –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π email
      from_email: email,
      user_email: email,
      subject: '–ù–æ–≤—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫ Fruit Paradise',
      message: `–ù–æ–≤—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫: ${email} —Ö–æ—á–µ—Ç —É–∑–Ω–∞—Ç—å –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏ Fruit Paradise!`,
      date: new Date().toLocaleString('ru-RU'),
      promo_code: 'FRUIT30'
    };

    // –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ EmailJS —Å –≤–∞—à–∏–º–∏ –∫–ª—é—á–∞–º–∏
    emailjs.send('service_up3drvq', 'template_2lv23ui', templateParams) // –ó–ê–ú–ï–ù–ò–¢–ï YOUR_TEMPLATE_ID
      .then(function(response) {
        showMessage('‚úÖ –°–ø–∞—Å–∏–±–æ! –ú—ã —É–≤–µ–¥–æ–º–∏–º –≤–∞—Å –Ω–∞ –∞–¥—Ä–µ—Å ' + email + ' –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–∞–≥–∞–∑–∏–Ω–∞!', 'success', messageDiv);
        document.getElementById('email').value = '';
      })
      .catch(function(error) {
        showMessage('‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.', 'error', messageDiv);
        console.error('EmailJS error:', error);
      })
      .finally(function() {
        button.textContent = originalText;
        button.disabled = false;
      });
  });

  // –§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email
  function validateEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
  }

  // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
  function showMessage(text, type, messageDiv) {
    messageDiv.textContent = text;
    messageDiv.style.display = 'block';
    messageDiv.style.background = type === 'success' ? '#d4edda' : '#f8d7da';
    messageDiv.style.color = type === 'success' ? '#155724' : '#721c24';
    messageDiv.style.border = type === 'success' ? '1px solid #c3e6cb' : '1px solid #f5c6cb';

    // –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
      messageDiv.style.display = 'none';
    }, 5000);
  }

  setInterval(updateCountdown, 60000);
  // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
  function updateCountdown() {
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞—Ç—É –æ—Ç–∫—Ä—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ 30 –¥–Ω–µ–π –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã)
    const openingDate = new Date(2025, 10, 22);
    openingDate.setHours(0, 0, 0, 0);

    const now = new Date().getTime();
    const distance = openingDate - now;

    // –ï—Å–ª–∏ –≤—Ä–µ–º—è –≤—ã—à–ª–æ
    if (distance < 0) {
      document.querySelector('.countdown').innerHTML = '<div style="font-size: 2rem; color: var(--accent-green);">–ú—ã –æ—Ç–∫—Ä—ã–ª–∏—Å—å! üéâ</div>';
      return;
    }

    // –†–∞—Å—á–µ—Ç –¥–Ω–µ–π, —á–∞—Å–æ–≤, –º–∏–Ω—É—Ç –∏ —Å–µ–∫—É–Ω–¥
    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    document.getElementById('days').textContent = days.toString().padStart(2, '0');
    document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
    document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
    document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–π–º–µ—Ä –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
  setInterval(updateCountdown, 1000);

  // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  updateCountdown();
</script>
</body>
</html>
